### Executive Summary
On March 15, 2024, the Federal Bureau of Investigation (FBI), CISA, and NSA identified a fictional APT campaign, 'CloudMiner,' targeting financial and technology sectors with hybrid cloud environments. The actors likely conduct reconnaissance [T1589] to gather target information, including employee email addresses and cloud service configurations. Initial access was achieved through spearphishing emails containing malicious links [T1566.002] that directed victims to external servers hosting ZIP and RAR archives with embedded malware. Upon execution, the malware exploited compromised Azure Managed Identities [T1078.004] to persistently access cloud databases and deployed containers using 'docker start' commands [T1610] to run cryptocurrency mining software while evading process monitoring. The actors employed a malicious loader DLL file [T1574.001] to execute the `credwiz.exe` process and side-load the payload `Duser.dll`, which replaced the pam_unix.so file with a malicious version [T1556.003] that accepted a backdoor password for all users. Discovery activities included gathering victim internal and external IPs [T1016] and using tools like NetScan to enumerate network services [T1046]. Persistence was maintained through AWS Systems Manager [T1072] to execute commands uninstalling security agents from EC2 instances. Command and control (C2) traffic was concealed using modified Base64 encoding with alternative symbols [T1132.002], and resource hijacking involved installing a cryptocurrency miner that consumed 90% of CPU resources [T1496].

### Attack Narrative
**Initial Access:** The campaign began with spearphishing emails sent to targeted employees in the finance department of a fictional company, 'TechGlobal Inc.,' which operates a hybrid cloud environment with Azure and AWS services. The emails appeared to originate from a trusted vendor and contained links to external servers hosting malicious ZIP archives. System logs from the email gateway showed an increase in suspicious traffic from IP addresses associated with known threat actor infrastructure, but no immediate alerts were triggered due to the use of legitimate-looking domains.

**Execution and Persistence:** Upon clicking the link, victims downloaded and extracted the archives, which executed a PowerShell script that leveraged compromised Azure Managed Identities [T1078.004] to access cloud databases and deploy containers [T1610] for mining operations. The script also loaded a malicious DLL [T1574.001] to side-load `Duser.dll`, modifying authentication modules [T1556.003] to establish backdoor access. The company's internal monitoring tools recorded unusual spikes in CPU usage on several servers, but initial investigations attributed this to routine maintenance activities.

**Discovery and Lateral Movement:** The malware conducted network discovery by gathering IP addresses [T1016] and scanning for open ports and services [T1046] across the victim's environment. Using AWS Systems Manager [T1072], the actors executed commands to uninstall security agents from EC2 instances, facilitating lateral movement. Background noise included routine system updates and network traffic from employee VPN connections, which complicated early detection efforts.

**Command and Control and Impact:** C2 communications were obfuscated through non-standard encoding [T1132.002], making network traffic analysis challenging. The final stage involved resource hijacking [T1496], with the cryptocurrency miner consuming significant CPU resources, leading to performance degradation and increased cloud costs. Incident response teams at TechGlobal Inc. eventually identified the activity through anomalous container logs and authentication failures, but the campaign persisted for approximately two weeks before containment.

### Recommendations
Blue teams should implement multi-factor authentication for cloud accounts, monitor for unusual container deployments, and review authentication module integrity. Regular training on phishing awareness and enhanced logging for cloud management tools are also advised.